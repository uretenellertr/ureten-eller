(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{7953:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(1430)}])},2622:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(5893);t(7294);var i=t(1664),s=t.n(i);function l(e){let{children:n,role:t="owner"}=e;return(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"240px 1fr",minHeight:"100vh"},children:[(0,r.jsxs)("aside",{style:{background:"#0b0b0b",color:"#fff",padding:16},children:[(0,r.jsx)("h2",{style:{marginTop:0},children:"Admin"}),(0,r.jsxs)("nav",{style:{display:"grid",gap:8},children:[(0,r.jsx)(s(),{href:"/admin",style:{color:"#e2e8f0"},children:"\xd6n Panel"}),(0,r.jsx)(s(),{href:"/admin/users",style:{color:"#e2e8f0"},children:"Kullanıcılar"}),(0,r.jsx)(s(),{href:"/admin/listings",style:{color:"#e2e8f0"},children:"İlanlar"}),(0,r.jsx)(s(),{href:"/admin/orders",style:{color:"#e2e8f0"},children:"Siparişler"}),(0,r.jsx)(s(),{href:"/admin/support",style:{color:"#e2e8f0"},children:"Canlı Destek"}),(0,r.jsx)(s(),{href:"/admin/moderation",style:{color:"#e2e8f0"},children:"Moderat\xf6r"})]}),(0,r.jsxs)("div",{style:{marginTop:16,fontSize:12,opacity:.8},children:["Rol: ",t]})]}),(0,r.jsx)("section",{style:{padding:16,background:"#f8fafc"},children:n})]})}},2704:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(7294),i=t(6831),s=t(5876),l=t(9828);function a(){let[e,n]=(0,r.useState)(null),[t,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=(0,s.onAuthStateChanged)(i.I,async e=>{if(!e){n(null),a(!0);return}try{let t=await (0,l.getDoc)((0,l.doc)(i.db,"roles",e.uid));n(t.exists()?t.data().role:null)}finally{a(!0)}});return()=>e()},[]),{role:e,ready:t}}},6831:function(e,n,t){"use strict";t.d(n,{I:function(){return a},db:function(){return o}});var r=t(3977),i=t(5876),s=t(9828);let l=(0,r.getApps)().length?(0,r.Mq)():(0,r.initializeApp)({apiKey:"AIzaSyCd9GjP6CDA8i4XByhXDHyESy-g_DHVwvQ",authDomain:"ureteneller-ecaac.firebaseapp.com",projectId:"ureteneller-ecaac",storageBucket:"ureteneller-ecaac.firebasestorage.app",messagingSenderId:"368042877151",appId:"1:368042877151:web:ee0879fc4717928079c96a",measurementId:"G-BJHKN8V4RQ"}),a=(0,i.getAuth)(l),o=(0,s.getFirestore)(l)},1430:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(5893),i=t(7294),s=t(2622),l=t(2704),a=t(6831),o=t(9828);function d(){let{role:e,ready:n}=(0,l.Z)();if(!n)return null;if(!e)return(0,r.jsx)("div",{style:{padding:24},children:"Yetkiniz yok."});let[t,d]=i.useState({orders:0,pendingListings:0,openSupport:0});return i.useEffect(()=>{(async()=>{let e=await (0,o.getCountFromServer)((0,o.collection)(a.db,"orders")),n=await (0,o.getCountFromServer)((0,o.query)((0,o.collection)(a.db,"listings"),(0,o.where)("status","==","pending"))),t=await (0,o.getCountFromServer)((0,o.query)((0,o.collection)(a.db,"conversations"),(0,o.where)("status","==","open")));d({orders:e.data().count,pendingListings:n.data().count,openSupport:t.data().count})})()},[]),(0,r.jsxs)(s.Z,{role:e,children:[(0,r.jsx)("h1",{children:"\xd6n Panel"}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))",gap:12},children:[(0,r.jsx)(u,{title:"Toplam Sipariş",value:t.orders}),(0,r.jsx)(u,{title:"Onay Bekleyen İlan",value:t.pendingListings}),(0,r.jsx)(u,{title:"A\xe7ık Destek",value:t.openSupport})]})]})}function u(e){let{title:n,value:t}=e;return(0,r.jsxs)("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,padding:16},children:[(0,r.jsx)("div",{style:{fontSize:13,color:"#475569"},children:n}),(0,r.jsx)("div",{style:{fontSize:28,fontWeight:800},children:t})]})}}},function(e){e.O(0,[281,703,771,229,950,888,774,179],function(){return e(e.s=7953)}),_N_E=e.O()}]);