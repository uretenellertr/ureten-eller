(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[126],{4337:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/listings",function(){return r(5038)}])},2622:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var i=r(5893);r(7294);var t=r(1664),s=r.n(t);function l(e){let{children:n,role:r="owner"}=e;return(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"240px 1fr",minHeight:"100vh"},children:[(0,i.jsxs)("aside",{style:{background:"#0b0b0b",color:"#fff",padding:16},children:[(0,i.jsx)("h2",{style:{marginTop:0},children:"Admin"}),(0,i.jsxs)("nav",{style:{display:"grid",gap:8},children:[(0,i.jsx)(s(),{href:"/admin",style:{color:"#e2e8f0"},children:"\xd6n Panel"}),(0,i.jsx)(s(),{href:"/admin/users",style:{color:"#e2e8f0"},children:"Kullanıcılar"}),(0,i.jsx)(s(),{href:"/admin/listings",style:{color:"#e2e8f0"},children:"İlanlar"}),(0,i.jsx)(s(),{href:"/admin/orders",style:{color:"#e2e8f0"},children:"Siparişler"}),(0,i.jsx)(s(),{href:"/admin/support",style:{color:"#e2e8f0"},children:"Canlı Destek"}),(0,i.jsx)(s(),{href:"/admin/moderation",style:{color:"#e2e8f0"},children:"Moderat\xf6r"})]}),(0,i.jsxs)("div",{style:{marginTop:16,fontSize:12,opacity:.8},children:["Rol: ",r]})]}),(0,i.jsx)("section",{style:{padding:16,background:"#f8fafc"},children:n})]})}},2704:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var i=r(7294),t=r(6831),s=r(9828);function l(){let[e,n]=(0,i.useState)(null),[r,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=!0;return(async()=>{let r=t.I.currentUser;if(!r){n(null),l(!0);return}let i=await (0,s.getDoc)((0,s.doc)(t.db,"roles",r.uid));e&&(n(i.exists()?i.data().role:null),l(!0))})(),()=>{e=!1}},[]),{role:e,ready:r}}},6831:function(e,n,r){"use strict";r.d(n,{I:function(){return d},db:function(){return a}});var i=r(3977),t=r(5876),s=r(9828);let l=(0,i.getApps)().length?(0,i.Mq)():(0,i.initializeApp)({apiKey:"AIzaSyCd9GjP6CDA8i4XByhXDHyESy-g_DHVwvQ",authDomain:"ureteneller-ecaac.firebaseapp.com",projectId:"ureteneller-ecaac",storageBucket:"ureteneller-ecaac.firebasestorage.app",messagingSenderId:"368042877151",appId:"1:368042877151:web:ee0879fc4717928079c96a",measurementId:"G-BJHKN8V4RQ"}),d=(0,t.getAuth)(l),a=(0,s.getFirestore)(l)},5038:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return o}});var i=r(5893),t=r(7294),s=r(2622),l=r(2704),d=r(6831),a=r(9828);function o(){let{role:e,ready:n}=(0,l.Z)(),[r,o]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{o((await (0,a.PL)((0,a.query)((0,a.collection)(d.db,"listings"),(0,a.where)("status","==","pending"),(0,a.b9)(200)))).docs.map(e=>({id:e.id,...e.data()})))})()},[]),!n)return null;if(!e)return(0,i.jsx)("div",{style:{padding:24},children:"Yetkiniz yok."});let f=async(e,n)=>{await (0,a.r7)((0,a.doc)(d.db,"listings",e),{status:n}),o(r.filter(n=>n.id!==e))};return(0,i.jsxs)(s.Z,{role:e,children:[(0,i.jsx)("h1",{children:"İlan Onay"}),(0,i.jsxs)("div",{style:{display:"grid",gap:8},children:[r.map(e=>(0,i.jsxs)("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,padding:12,display:"grid",gridTemplateColumns:"1fr auto auto",gap:8},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontWeight:700},children:e.title}),(0,i.jsxs)("div",{style:{fontSize:12,color:"#475569"},children:[e.cat," • ",e.city]})]}),(0,i.jsx)("button",{onClick:()=>f(e.id,"approved"),style:c(),children:"Onayla"}),(0,i.jsx)("button",{onClick:()=>f(e.id,"suspended"),style:u(),children:"Askıya al"})]},e.id)),0===r.length&&(0,i.jsx)("div",{children:"Bekleyen ilan yok."})]})]})}let c=()=>({padding:"8px 10px",borderRadius:8,border:"1px solid #111",background:"#111",color:"#fff",cursor:"pointer"}),u=()=>({padding:"8px 10px",borderRadius:8,border:"1px solid #111",background:"#fff",color:"#111",cursor:"pointer"})}},function(e){e.O(0,[281,703,771,229,950,888,774,179],function(){return e(e.s=4337)}),_N_E=e.O()}]);