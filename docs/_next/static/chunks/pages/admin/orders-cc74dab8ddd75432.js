(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{8970:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/orders",function(){return n(3950)}])},2622:function(e,r,n){"use strict";n.d(r,{Z:function(){return s}});var i=n(5893);n(7294);var t=n(1664),d=n.n(t);function s(e){let{children:r,role:n="owner"}=e;return(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"240px 1fr",minHeight:"100vh"},children:[(0,i.jsxs)("aside",{style:{background:"#0b0b0b",color:"#fff",padding:16},children:[(0,i.jsx)("h2",{style:{marginTop:0},children:"Admin"}),(0,i.jsxs)("nav",{style:{display:"grid",gap:8},children:[(0,i.jsx)(d(),{href:"/admin",style:{color:"#e2e8f0"},children:"\xd6n Panel"}),(0,i.jsx)(d(),{href:"/admin/users",style:{color:"#e2e8f0"},children:"Kullanıcılar"}),(0,i.jsx)(d(),{href:"/admin/listings",style:{color:"#e2e8f0"},children:"İlanlar"}),(0,i.jsx)(d(),{href:"/admin/orders",style:{color:"#e2e8f0"},children:"Siparişler"}),(0,i.jsx)(d(),{href:"/admin/support",style:{color:"#e2e8f0"},children:"Canlı Destek"}),(0,i.jsx)(d(),{href:"/admin/moderation",style:{color:"#e2e8f0"},children:"Moderat\xf6r"})]}),(0,i.jsxs)("div",{style:{marginTop:16,fontSize:12,opacity:.8},children:["Rol: ",n]})]}),(0,i.jsx)("section",{style:{padding:16,background:"#f8fafc"},children:r})]})}},2704:function(e,r,n){"use strict";n.d(r,{Z:function(){return s}});var i=n(7294),t=n(6831),d=n(9828);function s(){let[e,r]=(0,i.useState)(null),[n,s]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=!0;return(async()=>{let n=t.I.currentUser;if(!n){r(null),s(!0);return}let i=await (0,d.getDoc)((0,d.doc)(t.db,"roles",n.uid));e&&(r(i.exists()?i.data().role:null),s(!0))})(),()=>{e=!1}},[]),{role:e,ready:n}}},6831:function(e,r,n){"use strict";n.d(r,{I:function(){return l},db:function(){return a}});var i=n(3977),t=n(5876),d=n(9828);let s=(0,i.getApps)().length?(0,i.Mq)():(0,i.initializeApp)({apiKey:"AIzaSyCd9GjP6CDA8i4XByhXDHyESy-g_DHVwvQ",authDomain:"ureteneller-ecaac.firebaseapp.com",projectId:"ureteneller-ecaac",storageBucket:"ureteneller-ecaac.firebasestorage.app",messagingSenderId:"368042877151",appId:"1:368042877151:web:ee0879fc4717928079c96a",measurementId:"G-BJHKN8V4RQ"}),l=(0,t.getAuth)(s),a=(0,d.getFirestore)(s)},3950:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return c}});var i=n(5893),t=n(7294),d=n(2622),s=n(2704),l=n(6831),a=n(9828);let o=["placed","preparing","shipped","delivered","return","refunded"];function c(){let{role:e,ready:r}=(0,s.Z)(),[n,c]=(0,t.useState)([]);if((0,t.useEffect)(()=>{(async()=>{c((await (0,a.PL)((0,a.query)((0,a.collection)(l.db,"orders"),(0,a.b9)(200)))).docs.map(e=>({id:e.id,...e.data()})))})()},[]),!r)return null;if(!e)return(0,i.jsx)("div",{style:{padding:24},children:"Yetkiniz yok."});let u=async(r,i)=>{if("owner"!==e){alert("Sipariş durumunu sadece owner değiştirir.");return}await (0,a.r7)((0,a.doc)(l.db,"orders",r),{status:i,updatedAt:new Date().toISOString()}),c(n.map(e=>e.id===r?{...e,status:i}:e))};return(0,i.jsxs)(d.Z,{role:e,children:[(0,i.jsx)("h1",{children:"Siparişler"}),(0,i.jsx)("div",{style:{display:"grid",gap:8},children:n.map(e=>(0,i.jsxs)("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,padding:12,display:"grid",gridTemplateColumns:"1fr auto",gap:8},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{fontWeight:700},children:["#",e.id," • ",e.total,"₺"]}),(0,i.jsxs)("div",{style:{fontSize:12,color:"#475569"},children:[e.status," • ",e.buyerId," → ",e.sellerId]})]}),(0,i.jsx)("select",{value:e.status,onChange:r=>u(e.id,r.target.value),style:{padding:8,borderRadius:8,border:"1px solid #e5e7eb"},children:o.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]},e.id))})]})}}},function(e){e.O(0,[281,703,771,229,950,888,774,179],function(){return e(e.s=8970)}),_N_E=e.O()}]);