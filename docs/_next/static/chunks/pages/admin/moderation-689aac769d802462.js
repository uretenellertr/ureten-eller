(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{6446:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/moderation",function(){return n(3909)}])},2622:function(e,r,n){"use strict";n.d(r,{Z:function(){return a}});var t=n(5893);n(7294);var i=n(1664),l=n.n(i);function a(e){let{children:r,role:n="owner"}=e;return(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"240px 1fr",minHeight:"100vh"},children:[(0,t.jsxs)("aside",{style:{background:"#0b0b0b",color:"#fff",padding:16},children:[(0,t.jsx)("h2",{style:{marginTop:0},children:"Admin"}),(0,t.jsxs)("nav",{style:{display:"grid",gap:8},children:[(0,t.jsx)(l(),{href:"/admin",style:{color:"#e2e8f0"},children:"\xd6n Panel"}),(0,t.jsx)(l(),{href:"/admin/users",style:{color:"#e2e8f0"},children:"Kullanıcılar"}),(0,t.jsx)(l(),{href:"/admin/listings",style:{color:"#e2e8f0"},children:"İlanlar"}),(0,t.jsx)(l(),{href:"/admin/orders",style:{color:"#e2e8f0"},children:"Siparişler"}),(0,t.jsx)(l(),{href:"/admin/support",style:{color:"#e2e8f0"},children:"Canlı Destek"}),(0,t.jsx)(l(),{href:"/admin/moderation",style:{color:"#e2e8f0"},children:"Moderat\xf6r"})]}),(0,t.jsxs)("div",{style:{marginTop:16,fontSize:12,opacity:.8},children:["Rol: ",n]})]}),(0,t.jsx)("section",{style:{padding:16,background:"#f8fafc"},children:r})]})}},2704:function(e,r,n){"use strict";n.d(r,{Z:function(){return d}});var t=n(7294),i=n(6831),l=n(5876),a=n(9828);function d(){let[e,r]=(0,t.useState)(null),[n,d]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let e=(0,l.onAuthStateChanged)(i.I,async e=>{if(!e){r(null),d(!0);return}try{let n=await (0,a.getDoc)((0,a.doc)(i.db,"roles",e.uid));r(n.exists()?n.data().role:null)}finally{d(!0)}});return()=>e()},[]),{role:e,ready:n}}},6831:function(e,r,n){"use strict";n.d(r,{I:function(){return d},db:function(){return o}});var t=n(3977),i=n(5876),l=n(9828);let a=(0,t.getApps)().length?(0,t.Mq)():(0,t.initializeApp)({apiKey:"AIzaSyCd9GjP6CDA8i4XByhXDHyESy-g_DHVwvQ",authDomain:"ureteneller-ecaac.firebaseapp.com",projectId:"ureteneller-ecaac",storageBucket:"ureteneller-ecaac.firebasestorage.app",messagingSenderId:"368042877151",appId:"1:368042877151:web:ee0879fc4717928079c96a",measurementId:"G-BJHKN8V4RQ"}),d=(0,i.getAuth)(a),o=(0,l.getFirestore)(a)},3909:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return s}});var t=n(5893),i=n(7294),l=n(2622),a=n(2704),d=n(6831),o=n(9828);function s(){let{role:e,ready:r}=(0,a.Z)(),[n,s]=(0,i.useState)([]),[f,h]=(0,i.useState)([]);if((0,i.useEffect)(()=>{(async()=>{s((await (0,o.PL)((0,o.query)((0,o.collection)(d.db,"roles"),(0,o.b9)(500)))).docs.filter(e=>"moderator"===e.data().role).map(e=>({id:e.id,...e.data()}))),h((await (0,o.PL)((0,o.query)((0,o.collection)(d.db,"users"),(0,o.b9)(500)))).docs.map(e=>({id:e.id,...e.data()})))})()},[]),!r)return null;if(!e)return(0,t.jsx)("div",{style:{padding:24},children:"Yetkiniz yok."});if("owner"!==e)return(0,t.jsx)(l.Z,{role:e,children:(0,t.jsx)("div",{children:"Sadece owner."})});let p=async e=>{await (0,o.pl)((0,o.doc)(d.db,"roles",e),{role:"moderator",assignedBy:"owner",at:new Date().toISOString()}),alert("Atandı")},y=async e=>{await (0,o.oe)((0,o.doc)(d.db,"roles",e)),alert("Geri alındı")};return(0,t.jsxs)(l.Z,{role:e,children:[(0,t.jsx)("h1",{children:"Moderat\xf6r Y\xf6netimi"}),(0,t.jsx)("h3",{children:"Mevcut Moderat\xf6rler"}),(0,t.jsx)("ul",{children:n.map(e=>(0,t.jsxs)("li",{style:{marginBottom:6},children:[e.id," ",(0,t.jsx)("button",{onClick:()=>y(e.id),style:u(),children:"Geri al"})]},e.id))}),(0,t.jsx)("h3",{children:"Kullanıcılar"}),(0,t.jsx)("ul",{children:f.map(e=>(0,t.jsxs)("li",{style:{marginBottom:6},children:[e.displayName||"-"," • ",e.email," ",(0,t.jsx)("button",{onClick:()=>p(e.id),style:c(),children:"Moder. ata"})]},e.id))})]})}let c=()=>({marginLeft:8,padding:"4px 8px",borderRadius:8,border:"1px solid #111",background:"#111",color:"#fff",cursor:"pointer"}),u=()=>({marginLeft:8,padding:"4px 8px",borderRadius:8,border:"1px solid #111",background:"#fff",color:"#111",cursor:"pointer"})}},function(e){e.O(0,[281,703,771,229,950,888,774,179],function(){return e(e.s=6446)}),_N_E=e.O()}]);